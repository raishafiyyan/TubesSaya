/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package viewConsole;

import java.util.ArrayList;
import java.util.Date;
import java.util.InputMismatchException;
import java.util.List;
import java.util.Scanner;
import model.*;

/**
 *
 * @author HANIZAR
 */
public class Console {

    private Aplikasi model;
    private Scanner sInt;
    private Scanner sStr;
    private Scanner sLong;
    private List<Kereta> daftarKereta;
    private List<Tiket> daftarTiket;
    private List<Gerbong> daftarGerbong;
    private List<Stasiun> daftarStasiun;
    private List<Rute> daftarRute;
    
    public Console(Aplikasi model) {
        this.model = model;
        sInt = new Scanner(System.in);
        sStr = new Scanner(System.in);
        sLong = new Scanner(System.in);
        daftarKereta = new ArrayList();
        daftarTiket = new ArrayList();
        daftarGerbong = new ArrayList();
        daftarStasiun = new ArrayList();
        daftarRute = new ArrayList();
    }
    
    public int inputInt() {
        try {
            return sInt.nextInt();
        } catch (InputMismatchException e) {
            throw new InputMismatchException("Harus Angka!!!");
        } finally {
            sInt = new Scanner(System.in);
        }
    }

    public long inputLong() {
        try {
            return sLong.nextLong();
        } catch (InputMismatchException e) {
            throw new InputMismatchException("Harus Angka!!!");
        } finally {
            sInt = new Scanner(System.in);
        }
    }

    public void mainMenu() {
        int pil =0;

        do {
            try {
                System.out.println("===== MENU =====");
                System.out.println("1. Input Data Gerbong");
                System.out.println("2. Input Data Kereta");
                System.out.println("3. Input Data Stasiun");
                //System.out.println("4. Input Data Rute");
                System.out.println("5. Set Data Gerbong ke Kereta");
                //System.out.println("6. Set Data Kereta ke Rute");
                //System.out.println("7. Search Data Gerbong by Id");
                //System.out.println("8. Search Data Kereta by Name");
                //System.out.println("9. Search Data Stasiun by Name");
                //System.out.println("10. Search Data Rute by ");
                System.out.println("11. Delete Data Gerbong");
                System.out.println("12. Delete Data Kereta");
                System.out.println("13. Delete Data Stasiun");
                //System.out.println("14. Delete Data Rute");
                //System.out.println("15. View All Data");
                //System.out.println("16. Buat Tiket");
                //System.out.println("17. Exit");
                System.out.print("Input pilihan : ");
                pil = inputInt();
                switch (pil) {
                    case 1:
                        System.out.print("Kode Gerbong : ");
                        String kode = sStr.nextLine();
                        System.out.print("Jenis Gerbong : ");
                        String jenis = sStr.nextLine();
                        System.out.print("Jumlah Gerbong : ");
                        String jumlah = sStr.nextLine();
                        model.addGerbong(kode, jenis, jumlah);
                        break;

                    case 2:
                        System.out.print("Nama Kereta : ");
                        String nama = sStr.nextLine();
                        System.out.print("Jurusan : ");
                        String jurusan = sStr.nextLine();
                        System.out.print("Jenis Kereta : ");
                        jenis = sStr.nextLine();
                        model.addKereta(nama, jurusan, jenis);
                        break;

                    case 3:
                        System.out.print("Nama Stasiun : ");
                        nama = sStr.nextLine();
                        System.out.print("Alamat Stasiun :");
                        String alamat = sStr.nextLine();
                        System.out.print("Daerah Operasi : ");
                        String daerah_operasi = sStr.nextLine();
                        model.addStasiun(nama, alamat, daerah_operasi);
                        break;

                    /*case 4:
                        System.out.println("Masukkan stasiun pertama : ");
                        int i = inputInt();
                        System.out.println("Masukkan stasiun kedua : ");
                        int j = inputInt();
                        menuEmpat(daftarStasiun.get(i), daftarStasiun.get(j));
                        break;
                    */

                    case 5 :
                        System.out.print("Masukkan Kereta : ");
                        int x = inputInt();
                        System.out.print("Masukkan Gerbong : ");
                        int y = inputInt();
                        daftarKereta.get(x).addGerbong(daftarGerbong.get(y));
                        break;

                    /*case 6:
                        System.out.println("Masukkan Rute : ");
                        x = sInt.nextInt();
                        System.out.println("Masukkan Kereta : ");
                        y = sInt.nextInt();
                        menuEnam(x,y);
                        break;

                    case 7:
                        System.out.print("Masukan Kode Gerbong : ");
                        kode = sString.nextLine();
                        Gerbong g = getGerbong(kode);
                        System.out.print(g.toString());
                        break;

                    case 8:
                        System.out.println("Masukkan Nama Kereta : ");
                        nama = sString.nextLine();
                        Kereta k = getKereta(nama);
                        System.out.println(k.toString());
                        break;

                    case 9:
                        System.out.println("Masukkan Nama Stasiun : ");
                        nama = sString.nextLine();
                        Stasiun s = getStasiun(nama);
                        System.out.println(s.toString());
                        break;

                    case 10:
                        System.out.println("Masukkan stasiun pertama : ");
                        int l = sInt.nextInt() ;
                        System.out.println("Masukkan stasiun kedua : ");
                        int m = sInt.nextInt() ;
                        Rute r = new Rute(daftarStasiun.get(l), daftarStasiun.get(m));
                        System.out.println(r.toString());
                        break;
                    */
                    case 11:
                        System.out.print("Masukkan Kode Gerbong yang akan dihapus : ");
                        kode = sStr.nextLine();
                        model.deleteGerbong(kode);
                        System.out.println("Data Gerbong telah dihapus");
                        break;

                    case 12:
                        System.out.println("Masukkan Nama Kereta yang akan dihapus : ");
                        nama = sStr.nextLine();
                        model.deleteKereta(nama);
                        System.out.println("Data Kereta telah dihapus");
                        break;

                    case 13:
                        System.out.println("Masukkan Nama Stasiun yang akan dihapus : ");
                        nama = sStr.nextLine();
                        model.deleteStasiun(nama);
                        System.out.println("Data Stasiun telah dihapus");
                        break;

                    /*case 14:
                        System.out.println("Masukkan Rute yang akan dihapus : ");
                        int n = sInt.nextInt();
                        r = new Rute(daftarStasiun.get(n));
                        break;
                    */  
                    /*case 15:
                        System.out.println("-- Data Gerbong --");
                        for(Gerbong ge : daftarGerbong) {
                            System.out.println(ge);
                        }
                        System.out.println("-- Data Kereta --");
                        for(Kereta ke : daftarKereta) {
                            System.out.println(ke);
                        }
                        System.out.println("-- Data Stasiun --");
                        for(Stasiun st : daftarStasiun) {
                            System.out.println(st);
                        }
                        System.out.println("-- Data Rute --");
                        for(Rute ru : daftarRute) {
                            System.out.println(ru);
                        }
                        System.out.println("-- Data Tiket --");
                        for(Tiket ti : daftarTiket) {
                            System.out.println(ti);
                        }
                        break;

                    case 16:
                        System.out.println("kode tiket"); 
                        String kd = sString.nextLine();
                        System.out.println("jenis"); 
                        jenis = sString.nextLine();
                        System.out.println("tanggal"); 
                        String tanggal = sString.nextLine();
                        System.out.println("harga"); 
                        long harga = sLong.nextLong();
                        System.out.println("nama kereta"); 
                        nama = sString.nextLine();
                        System.out.println("rute"); 
                        int iRute = sInt.nextInt();
                        menuEnamBelas(kd,jenis,tanggal,harga,nama,daftarRute.get(iRute));
                        break;
                        */
                    default:
                        throw new IllegalStateException("Wrong Menu Input");
                } 
                    } catch (Exception e) {
                        System.out.println("error : " + e.getMessage());
                    } finally {
                        sInt = new Scanner(System.in);
                        sStr = new Scanner(System.in);
                        sLong = new Scanner(System.in);
                    }
        } while (pil != 0);
    }
    
}
